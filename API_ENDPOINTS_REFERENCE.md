# ๐ ูุงููุณ APIs - ูุธุงู ุงูุฃูุณุงู

## ๐ ุงูุฃูุณุงู (Departments)

### 1. ุงูุญุตูู ุนูู ุฌููุน ุงูุฃูุณุงู

```http
GET /api/departments
```

**ุงูุตูุงุญูุงุช**: Admin, SuperAdmin

**ุงูุงุณุชุฌุงุจุฉ**:

```json
[
  {
    "id": 1,
    "name": "HR",
    "nameAr": "ุงูููุงุฑุฏ ุงูุจุดุฑูุฉ",
    "description": "ูุณู ุงูููุงุฑุฏ ุงูุจุดุฑูุฉ",
 "code": "HR",
  "usersCount": 5
  },
  {
    "id": 2,
    "name": "Accounting",
    "nameAr": "ุงูุญุณุงุจุงุช",
  "description": "ูุณู ุงูุญุณุงุจุงุช",
    "code": "ACC",
    "usersCount": 3
  }
]
```

---

### 2. ุงูุญุตูู ุนูู ูุณู ูุนูู

```http
GET /api/departments/{id}
```

**ุงููุนุงููุงุช**:
- `id` (required) - ูุนุฑูู ุงููุณู

**ุงูุงุณุชุฌุงุจุฉ**:

```json
{
  "id": 1,
  "name": "HR",
  "nameAr": "ุงูููุงุฑุฏ ุงูุจุดุฑูุฉ",
  "description": "ูุณู ุงูููุงุฑุฏ ุงูุจุดุฑูุฉ",
  "code": "HR",
  "headName": "ุฃุญูุฏ ูุญูุฏ",
  "usersCount": 5
}
```

**ุฃุฎุทุงุก**:
- `404` - ุงููุณู ุบูุฑ ููุฌูุฏ

---

### 3. ุฅูุดุงุก ูุณู ุฌุฏูุฏ

```http
POST /api/departments
```

**ุงูุตูุงุญูุงุช**: Admin, SuperAdmin

**ุงูุฌุณู**:

```json
{
  "name": "HR",
  "nameAr": "ุงูููุงุฑุฏ ุงูุจุดุฑูุฉ",
  "description": "ูุณู ุงูููุงุฑุฏ ุงูุจุดุฑูุฉ",
  "code": "HR",
  "displayOrder": 1
}
```

**ุงูุงุณุชุฌุงุจุฉ**: `201 Created`

```json
{
  "id": 1,
  "name": "HR",
  "nameAr": "ุงูููุงุฑุฏ ุงูุจุดุฑูุฉ",
  "description": "ูุณู ุงูููุงุฑุฏ ุงูุจุดุฑูุฉ",
  "code": "HR",
  "usersCount": 0
}
```

---

### 4. ุชุญุฏูุซ ูุณู

```http
PUT /api/departments/{id}
```

**ุงูุตูุงุญูุงุช**: Admin, SuperAdmin

**ุงููุนุงููุงุช**:
- `id` (required) - ูุนุฑูู ุงููุณู

**ุงูุฌุณู**:

```json
{
  "name": "Human Resources",
  "nameAr": "ุฅุฏุงุฑุฉ ุงูููุงุฑุฏ ุงูุจุดุฑูุฉ",
  "description": "ุงููุตู ุงูุฌุฏูุฏ",
  "code": "HR",
  "displayOrder": 1
}
```

**ุงูุงุณุชุฌุงุจุฉ**: `204 No Content`

---

### 5. ุญุฐู ูุณู

```http
DELETE /api/departments/{id}
```

**ุงูุตูุงุญูุงุช**: Admin, SuperAdmin

**ุงููุนุงููุงุช**:
- `id` (required) - ูุนุฑูู ุงููุณู

**ุงูุงุณุชุฌุงุจุฉ**: `204 No Content`

---

### 6. ุงูุญุตูู ุนูู ููุธูู ุงููุณู

```http
GET /api/departments/{id}/employees
```

**ุงููุนุงููุงุช**:
- `id` (required) - ูุนุฑูู ุงููุณู

**ุงูุงุณุชุฌุงุจุฉ**:

```json
[
  {
    "id": 1,
    "firstName": "ุฃุญูุฏ",
    "lastName": "ูุญูุฏ",
    "email": "ahmed@company.com",
    "phoneNumber": "0501234567"
  },
  {
  "id": 2,
    "firstName": "ูุงุทูุฉ",
    "lastName": "ุนูู",
  "email": "fatima@company.com",
    "phoneNumber": "0509876543"
  }
]
```

---

### 7. ุชุนููู ุฑุฆูุณ ุงููุณู

```http
POST /api/departments/{id}/set-head/{userId}
```

**ุงูุตูุงุญูุงุช**: Admin, SuperAdmin

**ุงููุนุงููุงุช**:
- `id` (required) - ูุนุฑูู ุงููุณู
- `userId` (required) - ูุนุฑูู ุงููุณุชุฎุฏู

**ุงูุงุณุชุฌุงุจุฉ**:

```json
{
  "message": "ุชู ุชุนููู ุฑุฆูุณ ุงููุณู ุจูุฌุงุญ"
}
```

---

## ๐ ุงูููุงุฐุฌ (Forms)

### 1. ุงูุญุตูู ุนูู ููุงุฐุฌ ุงููุณุชุฎุฏู ุงูุญุงูู

```http
GET /api/forms
```

**ุงูุตูุงุญูุงุช**: ุงููุณุชุฎุฏููู ุงููุณุฌููู

**ุงูุงุณุชุฌุงุจุฉ**:

```json
[
  {
    "id": "660e8400-e29b-41d4-a716-446655440000",
    "title": "ุทูุจ ุฅุฌุงุฒุฉ",
    "titleAr": "ุทูุจ ุฅุฌุงุฒุฉ",
    "description": "ูููุฐุฌ ูุทูุจ ุงูุฅุฌุงุฒุฉ",
    "status": "Draft",
    "department": "ุงูููุงุฑุฏ ุงูุจุดุฑูุฉ",
    "createdBy": "ุฃุญูุฏ ูุญูุฏ",
"createdAt": "2024-01-15T10:30:00Z",
    "isActive": true
  }
]
```

**ููุงุญุธุฉ**: 
- Admin ูุดูู ุฌููุน ุงูููุงุฐุฌ
- ุงููุณุชุฎุฏู ุงูุนุงุฏู ูุดูู ููุท ููุงุฐุฌ ูุณูู

---

### 2. ุงูุญุตูู ุนูู ูููุฐุฌ ูุนูู

```http
GET /api/forms/{id}
```

**ุงููุนุงููุงุช**:
- `id` (required) - ูุนุฑูู ุงููููุฐุฌ

**ุงูุงุณุชุฌุงุจุฉ**:

```json
{
  "id": "660e8400-e29b-41d4-a716-446655440000",
  "title": "ุทูุจ ุฅุฌุงุฒุฉ",
  "titleAr": "ุทูุจ ุฅุฌุงุฒุฉ",
  "description": "ูููุฐุฌ ูุทูุจ ุงูุฅุฌุงุฒุฉ",
  "status": "Published",
  "department": "ุงูููุงุฑุฏ ุงูุจุดุฑูุฉ",
  "createdBy": "ุฃุญูุฏ ูุญูุฏ",
  "createdAt": "2024-01-15T10:30:00Z",
  "isActive": true,
  "fieldsCount": 5
}
```

**ุฃุฎุทุงุก**:
- `403` - ููุณ ูุฏูู ุตูุงุญูุฉ ูููุตูู
- `404` - ุงููููุฐุฌ ุบูุฑ ููุฌูุฏ

---

### 3. ุฅูุดุงุก ูููุฐุฌ ุฌุฏูุฏ

```http
POST /api/forms
```

**ุงูุตูุงุญูุงุช**: Admin, Editor

**ุงูุฌุณู**:

```json
{
  "title": "ุทูุจ ุฅุฌุงุฒุฉ",
  "titleAr": "ุทูุจ ุฅุฌุงุฒุฉ",
  "description": "ูููุฐุฌ ูุทูุจ ุงูุฅุฌุงุฒุฉ",
  "formConfiguration": "{...}"
}
```

**ููุงุญุธุฉ**: ุงููููุฐุฌ ูููุดุฃ ุชููุงุฆูุงู ูู ูุณู ุงููุณุชุฎุฏู ุงูุญุงูู!

**ุงูุงุณุชุฌุงุจุฉ**: `201 Created`

```json
{
  "id": "660e8400-e29b-41d4-a716-446655440000",
  "title": "ุทูุจ ุฅุฌุงุฒุฉ",
  "titleAr": "ุทูุจ ุฅุฌุงุฒุฉ",
  "description": "ูููุฐุฌ ูุทูุจ ุงูุฅุฌุงุฒุฉ",
  "status": "Draft",
"department": "ุงูููุงุฑุฏ ุงูุจุดุฑูุฉ",
  "createdBy": "ุฃุญูุฏ ูุญูุฏ",
  "createdAt": "2024-01-15T10:30:00Z",
  "isActive": true
}
```

---

### 4. ุชุญุฏูุซ ูููุฐุฌ

```http
PUT /api/forms/{id}
```

**ุงูุตูุงุญูุงุช**: 
- ูู ุฃูุดุฃ ุงููููุฐุฌ
- ุฑุฆูุณ ุงููุณู
- Admin, SuperAdmin

**ุงููุนุงููุงุช**:
- `id` (required) - ูุนุฑูู ุงููููุฐุฌ

**ุงูุฌุณู**:

```json
{
  "title": "ุทูุจ ุงูุฅุฌุงุฒุฉ - ูุนุฏู",
  "description": "ุงููุตู ุงูุฌุฏูุฏ",
  "status": "Draft"
}
```

**ุงูุงุณุชุฌุงุจุฉ**: `204 No Content`

**ุฃุฎุทุงุก**:
- `403` - ููุณ ูุฏูู ุตูุงุญูุฉ ุงูุชุนุฏูู
- `404` - ุงููููุฐุฌ ุบูุฑ ููุฌูุฏ

---

### 5. ุญุฐู ูููุฐุฌ

```http
DELETE /api/forms/{id}
```

**ุงูุตูุงุญูุงุช**: 
- ูู ุฃูุดุฃ ุงููููุฐุฌ
- ุฑุฆูุณ ุงููุณู
- Admin, SuperAdmin

**ุงููุนุงููุงุช**:
- `id` (required) - ูุนุฑูู ุงููููุฐุฌ

**ุงูุงุณุชุฌุงุจุฉ**: `204 No Content`

**ุฃุฎุทุงุก**:
- `403` - ููุณ ูุฏูู ุตูุงุญูุฉ ุงูุญุฐู
- `404` - ุงููููุฐุฌ ุบูุฑ ููุฌูุฏ

---

### 6. ูุดุฑ ูููุฐุฌ

```http
POST /api/forms/{id}/publish
```

**ุงูุตูุงุญูุงุช**: 
- ูู ุฃูุดุฃ ุงููููุฐุฌ
- ุฑุฆูุณ ุงููุณู
- Admin, Editor

**ุงููุนุงููุงุช**:
- `id` (required) - ูุนุฑูู ุงููููุฐุฌ

**ุงูุงุณุชุฌุงุจุฉ**:

```json
{
  "message": "ุชู ูุดุฑ ุงููููุฐุฌ ุจูุฌุงุญ"
}
```

---

### 7. ุงูุญุตูู ุนูู ููุงุฐุฌ ูุณู ูุนูู

```http
GET /api/forms/department/{departmentId}
```

**ุงูุตูุงุญูุงุช**: Admin, SuperAdmin

**ุงููุนุงููุงุช**:
- `departmentId` (required) - ูุนุฑูู ุงููุณู

**ุงูุงุณุชุฌุงุจุฉ**:

```json
[
  {
    "id": "660e8400-e29b-41d4-a716-446655440000",
    "title": "ุทูุจ ุฅุฌุงุฒุฉ",
  "description": "ูููุฐุฌ ูุทูุจ ุงูุฅุฌุงุฒุฉ",
    "status": "Published",
    "department": "ุงูููุงุฑุฏ ุงูุจุดุฑูุฉ",
    "createdBy": "ุฃุญูุฏ ูุญูุฏ",
    "createdAt": "2024-01-15T10:30:00Z",
    "isActive": true
  }
]
```

---

## ๐ ุฑููุฒ ุงูุฃุฎุทุงุก

| ุงูุฑูุฒ | ุงููุนูู | ุงูุญู |
|------|--------|------|
| `400` | ุทูุจ ุฎุงุทุฆ | ุชุญูู ูู ุงูุจูุงูุงุช ุงููุฑุณูุฉ |
| `401` | ุบูุฑ ูุตุฑุญ | ุณุฌู ุฏุฎูู ุฃููุงู |
| `403` | ููููุน | ููุณ ูุฏูู ุงูุตูุงุญูุฉ |
| `404` | ุบูุฑ ููุฌูุฏ | ุงูุจูุงูุงุช ุบูุฑ ููุฌูุฏุฉ |
| `500` | ุฎุทุฃ ุงูุฎุงุฏู | ุงุชุตู ุจุงูุฏุนู |

---

## ๐ ุงูุตูุงุญูุงุช ุญุณุจ ุงูุฏูุฑ

### SuperAdmin

```
โ ุฑุคูุฉ ุฌููุน ุงูุฃูุณุงู
โ ุฅูุดุงุก/ุชุนุฏูู/ุญุฐู ุงูุฃูุณุงู
โ ุฑุคูุฉ ุฌููุน ุงูููุงุฐุฌ
โ ุฅูุดุงุก/ุชุนุฏูู/ุญุฐู ุฃู ูููุฐุฌ
โ ุชุนููู ุฑุคุณุงุก ุงูุฃูุณุงู
```

### Admin

```
โ ุฑุคูุฉ ุฌููุน ุงูุฃูุณุงู
โ ุฅูุดุงุก/ุชุนุฏูู/ุญุฐู ุงูุฃูุณุงู
โ ุฑุคูุฉ ุฌููุน ุงูููุงุฐุฌ
โ ุฅูุดุงุก/ุชุนุฏูู/ุญุฐู ุฃู ูููุฐุฌ
โ ุชุนููู ุฑุคุณุงุก ุงูุฃูุณุงู
```

### Editor

```
โ ุฑุคูุฉ ุฌููุน ุงูุฃูุณุงู
โ ุฑุคูุฉ ููุงุฐุฌ ูุณูู
โ ุฅูุดุงุก ูููุฐุฌ ูู ูุณูู
โ ุชุนุฏูู ููุงุฐุฌู
```

### Viewer

```
โ ุฑุคูุฉ ุฌููุน ุงูุฃูุณุงู
โ ุฅูุดุงุก ูููุฐุฌ
โ ุชุนุฏูู ุงูููุงุฐุฌ
โ ูุฑุงุกุฉ ุงูููุงุฐุฌ ููุท (ุจุตูุงุญูุงุช ูุฎุตุตุฉ)
```

---

## ๐งช ุฃูุซูุฉ Curl

### ุฅูุดุงุก ูุณู

```bash
curl -X POST "http://localhost:5000/api/departments" \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer YOUR_TOKEN" \
  -d '{
"name": "HR",
    "nameAr": "ุงูููุงุฑุฏ ุงูุจุดุฑูุฉ",
    "code": "HR",
    "displayOrder": 1
  }'
```

### ุงูุญุตูู ุนูู ุงูุฃูุณุงู

```bash
curl -X GET "http://localhost:5000/api/departments" \
  -H "Authorization: Bearer YOUR_TOKEN"
```

### ุฅูุดุงุก ูููุฐุฌ

```bash
curl -X POST "http://localhost:5000/api/forms" \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer YOUR_TOKEN" \
  -d '{
    "title": "ุทูุจ ุฅุฌุงุฒุฉ",
    "titleAr": "ุทูุจ ุฅุฌุงุฒุฉ",
  "description": "ูููุฐุฌ ุงูุฅุฌุงุฒุฉ"
  }'
```

### ูุดุฑ ูููุฐุฌ

```bash
curl -X POST "http://localhost:5000/api/forms/{id}/publish" \
  -H "Authorization: Bearer YOUR_TOKEN"
```

---

## ๐ ููุงุญุธุงุช ูููุฉ

```
1. ุฌููุน ุงูุทูุจุงุช ุชุญุชุงุฌ ุนูู Authorization Header ูุน Token
2. ุงูุงุณุชุฌุงุจุงุช ุจุตูุบุฉ JSON
3. ุงูุชูุงุฑูุฎ ุจุตูุบุฉ ISO 8601 (UTC)
4. ุงูุฃุฎุทุงุก ุชุฃุชู ูุน ุฑุณุงูุฉ ูุถูุญุฉ
5. ุงูุตูุญุงุช ุบูุฑ ูุฏุนููุฉ (ูุฃุชู ุงูุจูุงูุงุช ูุงููุฉ)
```

---

**ุงูุขู ุฃูุช ุฌุงูุฒ ูุงุณุชุฎุฏุงู ุฌููุน ุงูู APIs!** ๐
